<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // let arr = [1, 2, 3, 4, 5, 6, 7]

        // arr.splice(2, 1) //[1, 2, 4, 5, 6, 7]
        // console.log(arr)

        // arr.splice(5, 2, 1, 3, 5) // [1, 2, 3, 4, 5, 1, 3, 5]
        // console.log(arr)

        // arr.splice(5, 0, 1, 3, 5)   // [1, 2, 3, 4, 5, 1, 3, 5, 6, 7]
        // console.log(arr)



        // arr.forEach(function (item, index, array) {
            // console.log(item) //1, 2, 3
            // console.log(index) // 0, 1, 2
            // console.log(array) // [1, 2, 3] [1, 2, 3] [1, 2, 3]
        // })

        // 将方法添加到数组的原型上
        // Array.prototype.myForEach = function (fn) {
        //     for (let i = 0; i < this.length; i++) {
        //         fn(this[i], i, this)
        //     }
        // }
        // arr.myForEach(function (item, index, array) {
        //     // console.log(item)
        //     // console.log(index)
        //     // console.log(array)
        // })

        // let arr = [1,32,54,6,543];
        // let res = arr.map(function(item,index,arr){
        //     // console.log(item)
        //     // console.log(index)
        //     // console.log(arr)
        //     return item*2;
        // })
        // console.log(res)

        // 判断数组中有没有符合条件的项(只要有,就返回true),如果一个都没有,才返回false
        // let arr3 = [
        //     { name: "zs", age: 18, done: "notYet" },
        //     { name: "ls", age: 20, done: true },
        //     { name: "ww", age: 22, done: true }
        // ];
        // let res5 = arr3.some(function(item) {
        //     // return item.done === "notYet";  // true
        //     return item.done === "a";  // false
        // });
        // console.log(res5);

        // 判断数组中所有的项是否满足要求,如果全都满足,才返回true,否则返回false
        // let arr3 = [
        //     { name: "zs", age: 18, done: "notYet" },
        //     { name: "ls", age: 20, done: true },
        //     { name: "ww", age: 22, done: true }
        // ];
        // let res6 = arr3.every(function(item) {
        //     return item.age;
        // });
        // console.log(res6);

        // 找到符合条件的项,并且返回第一项
        // let arr4 = [
        //     { id: 3, name: "ls", done: false },
        //     { id: 1, name: "zs", done: true },
        //     { id: 2, name: "ww", done: true }
        // ];
        // let res7 = arr4.find(function(item) {
        //     return item.done;
        // });
        // console.log(res7);

        // 找到符合条件的项的下标,并且返回第一个
        // let arr4 = [
        //     { id: '', name: "zs", done: true },
        //     { id: 3, name: "ls", done: false },
        //     { id: 2, name: "ww", done: true }
        //     ];
        // let res8 = arr4.findIndex(function(item) {
        // return item.id;
        // });
        // console.log(res8);

        // const obj = {
        //     uname: 'pink',
        //     age: 18,
        //     hobby: ['乒乓球', '足球'],
        //     family: {
        //         baby: '小pink'
        //     }
        //     }
        // const o = {}

        // function deepCopy(newObj, oldObj) {
        //     for (let k in oldObj) {
        //     // k 是属性名     oldObj[k] 是属性值
        //         // 处理数组的问题  一定先写数组 在写 对象 不能颠倒
        //         if (oldObj[k] instanceof Array) {
        //         newObj[k] = []
        //         //  newObj[k] 接收 []  hobby
        //         //  oldObj[k]   ['乒乓球', '足球']
        //         deepCopy(newObj[k], oldObj[k])
        //         } else if (oldObj[k] instanceof Object) {
        //         newObj[k] = {}
        //         deepCopy(newObj[k], oldObj[k])
        //         }
        //         else {
        //         //  k  属性名 uname age    oldObj[k]  属性值  18
        //         // newObj[k]  === o.uname  给新对象添加属性
        //         newObj[k] = oldObj[k]
        //         }
        //     }
        // }

        // deepCopy(o, obj) // 函数调用  两个参数 o 新对象  obj 旧对象
        // console.log(o)
        // o.age = 20
        // o.hobby[0] = '篮球'
        // o.family.baby = '老pink'
        // console.log(obj)
        // console.log([1, 23] instanceof Object)

        const oldObj = {
            uname: 'qewf',
            name: '',
            age: 18,
            hobby: ['asd', 'dgg'],
            hobby1: [],
            family: {
                A: 123,
                B: 456,
                C: 789
            },
            familys: {}
        } 

        const newObj = {}

        function deepCopy(newObj, oldObj) {
            for (let k in oldObj) {
                if (oldObj[k] instanceof Array) {
                    if (oldObj[k].length === 0) {
                        delete oldObj[k]
                    } else {
                        newObj[k] = []
                        deepCopy(newObj[k], oldObj[k])
                    }
                } else if (oldObj[k] instanceof Object) {
                    if (JSON.stringify(oldObj[k]) === '{}') {
                        delete oldObj[k]
                    } else {
                        newObj[k] = {}
                        deepCopy(newObj[k], oldObj[k])
                    }
                } else {
                    if (oldObj[k] === '') {
                        delete oldObj[k]
                    } else {
                        newObj[k] = oldObj[k]
                    }
                }
            }
        }

        deepCopy(newObj, oldObj)
        console.log(newObj)
    </script>
</body>
</html>